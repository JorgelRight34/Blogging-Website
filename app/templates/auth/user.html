{% extends 'base.html' %}

{% block title %}{{ user }}{% endblock %}

{% from 'macros.html' import render_post_card %}

{% block content %}
<div class="container bg-white p-4 w-50">
    {% for post in posts %}
        {{ render_post_card(post, current_user, loop.index) }}
        <br />
    {% endfor %}
</div> 
{% endblock content %}

{% block extra_column %}
<div class="p-4">
    <div class="card">
        <div class="card-header">
            <div class="mb-2">
                <a href="{{ url_for('auth.profile', username=user) }}" class="text-decoration-none mb-2">
                    <img src="{{ url_for('static', filename=user.profile_pic) }}" class="profile_pic" style="height: 50px; width: 50px;">
                    <span class="card-title"><b>{{ user }}</b></span>
                    <span class="m-lg-2">
                        | {{ user.email }}
                    </span>
                </a>
            </div>
        </div>
        <div class="card-body">
            <h5 class="card-title">Posts: {{ user.blogs|count }}</h5>
            <p class="card-text">Following: {{ user.following|count }}</p>
            <p class="card-text">Followers: {{ user.followers|count }}</p>
            <a href="{{ url_for('auth.follow', username=user) }}" class="btn btn-primary">Follow</a>
        </div>
    </div>
</div>
{% endblock extra_column %}